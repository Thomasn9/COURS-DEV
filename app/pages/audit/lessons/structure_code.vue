<template>
  <div class="lesson-container">
    <div class="lesson-content">
      <!-- En-t√™te de la le√ßon -->
      <header class="lesson-header">
        <h1 class="text-white">Structure de Code dans le Contexte d'un Audit</h1>
        <p class="lesson-meta text-white">Audit technique ‚Ä¢ Architecture ‚Ä¢ Maintenabilit√© ‚Ä¢ Bonnes pratiques</p>
      </header>

      <!-- Introduction -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Introduction √† l'audit de structure de code</h2>
        <p class="textExemple">
          L'audit de structure de code examine l'organisation, l'architecture et les principes de conception 
          d'une base de code pour √©valuer sa maintenabilit√©, son √©volutivit√© et sa conformit√© aux standards. 
          Il va au-del√† de la simple v√©rification syntaxique pour analyser les fondations du syst√®me.
        </p>
        <p class="textExemple">
          Une structure de code solide est essentielle pour la long√©vit√© des projets, la facilit√© de maintenance 
          et la r√©duction des dettes techniques.
        </p>
      </section>

      <!-- Objectifs de l'audit de structure -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Objectifs de l'audit de structure de code</h2>
        <ul>
          <li><strong>√âvaluer la maintenabilit√©</strong> : Analyser la facilit√© de compr√©hension et de modification du code</li>
          <li><strong>V√©rifier l'√©volutivit√©</strong> : S'assurer que l'architecture supporte les √©volutions futures</li>
          <li><strong>Identifier les dettes techniques</strong> : D√©tecter les choix structurels probl√©matiques</li>
          <li><strong>Valider les principes SOLID</strong> : V√©rifier l'application des bonnes pratiques de conception</li>
          <li><strong>Optimiser les performances</strong> : Rep√©rer les inefficacit√©s architecturales</li>
        </ul>
      </section>

      <!-- Aspects √©valu√©s -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Aspects structurels √©valu√©s</h2>
        
        <h3 class="text-purple">1. Architecture et patterns</h3>
        <p class="textExemple">
          √âvaluation des patterns architecturaux (MVC, Microservices, Hexagonale) et leur mise en ≈ìuvre coh√©rente.
        </p>
        
        <h3 class="text-purple">2. Organisation des modules</h3>
        <p class="textExemple">
          Analyse de la modularit√©, de la s√©paration des concerns et de la coh√©sion des composants.
        </p>
        
        <h3 class="text-purple">3. Qualit√© des abstractions</h3>
        <p class="textExemple">
          V√©rification de l'encapsulation, des interfaces et de la gestion des d√©pendances.
        </p>

        <h3 class="text-purple">4. Gestion des donn√©es</h3>
        <p class="textExemple">
          √âvaluation des mod√®les de donn√©es, du mapping objet-relationnel et des strat√©gies de persistance.
        </p>
      </section>

      <!-- Processus d'audit structurel -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Processus d'audit de structure de code</h2>
        
        <div class="process-step">
          <h3 class="text-purple">1. Analyse architecturale globale</h3>
          <p class="textExemple">
            Examiner le diagramme d'architecture, identifier les patterns utilis√©s 
            et √©valuer la coh√©rence d'ensemble.
          </p>
        </div>
        
        <div class="process-step">
          <h3 class="text-purple">2. Revue de la modularit√©</h3>
          <p class="textExemple">
            Analyser la structure des packages/modules, les d√©pendances circulaires 
            et la s√©paration des responsabilit√©s.
          </p>
        </div>
        
        <div class="process-step">
          <h3 class="text-purple">3. √âvaluation des principes SOLID</h3>
          <p class="textExemple">
            V√©rifier l'application des principes de conception orient√©e objet 
            et identifier les violations structurelles.
          </p>
        </div>
        
        <div class="process-step">
          <h3 class="text-purple">4. M√©triques et rapports</h3>
          <p class="textExemple">
            Calculer les m√©triques de complexit√©, g√©n√©rer des visualisations 
            et documenter les recommandations d'am√©lioration.
          </p>
        </div>
      </section>

      <!-- Crit√®res d'√©valuation -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Crit√®res d'√©valuation de la structure</h2>
        
        <div class="severity-grid">
          <div class="severity-item severity-critical">
            <h4 class="text-white">ARCHITECTURE D√âFAILLANTE</h4>
            <div class="severity-content">
              <p><strong>Impact :</strong> Remise en cause totale de la base code</p>
              <p><strong>Indicateurs :</strong></p>
              <ul>
                <li>God objects et classes omnipotentes</li>
                <li>D√©pendances circulaires g√©n√©ralis√©es</li>
                <li>Absence de s√©paration des concerns</li>
                <li>Couplage fort entre tous les modules</li>
              </ul>
              <p><strong>Action :</strong> Refactorisation majeure n√©cessaire</p>
            </div>
          </div>
          
          <div class="severity-item severity-high">
            <h4 class="text-white">PROBL√àMES STRUCTURELS MAJEURS</h4>
            <div class="severity-content">
              <p><strong>Impact :</strong> Difficult√©s importantes de maintenance</p>
              <p><strong>Indicateurs :</strong></p>
              <ul>
                <li>Violations multiples des principes SOLID</li>
                <li>Modules trop gros et peu coh√©sifs</li>
                <li>D√©pendances inappropri√©es</li>
                <li>Duplication de code structurelle</li>
              </ul>
              <p><strong>Action :</strong> Refactorisation cibl√©e requise</p>
            </div>
          </div>
          
          <div class="severity-item severity-medium">
            <h4 class="text-white">AM√âLIORATIONS RECOMMAND√âES</h4>
            <div class="severity-content">
              <p><strong>Impact :</strong> Opportunit√©s d'optimisation</p>
              <p><strong>Indicateurs :</strong></p>
              <ul>
                <li>Certaines classes trop longues</li>
                <li>Interfaces peu sp√©cifiques</li>
                <li>Opportunit√©s de r√©utilisation</li>
                <li>Organisation sous-optimale</li>
              </ul>
              <p><strong>Action :</strong> Am√©liorations progressives</p>
            </div>
          </div>
          
          <div class="severity-item severity-low">
            <h4 class="text-white">STRUCTURE SATISFAISANTE</h4>
            <div class="severity-content">
              <p><strong>Impact :</strong> Excellente maintenabilit√©</p>
              <p><strong>Indicateurs :</strong></p>
              <ul>
                <li>Architecture coh√©rente et document√©e</li>
                <li>Modules bien d√©finis et coh√©sifs</li>
                <li>Faible couplage, forte coh√©sion</li>
                <li>Respect des principes SOLID</li>
              </ul>
              <p><strong>Action :</strong> Maintenance des bonnes pratiques</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Principes SOLID √©valu√©s -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Principes SOLID √©valu√©s</h2>
        
        <div class="solid-grid">
          <div class="solid-item">
            <h4 class="text-purple">S - Single Responsibility</h4>
            <p><strong>Une classe = une responsabilit√©</strong></p>
            <ul>
              <li>Classes focalis√©es sur un m√©tier pr√©cis</li>
              <li>√âviter les classes "fourre-tout"</li>
              <li>Facilite les tests unitaires</li>
              <li>R√©duit l'impact des changements</li>
            </ul>
          </div>
          
          <div class="solid-item">
            <h4 class="text-purple">O - Open/Closed</h4>
            <p><strong>Ouvert √† l'extension, ferm√© √† la modification</strong></p>
            <ul>
              <li>Utilisation d'interfaces et d'abstractions</li>
              <li>Extension par h√©ritage/composition</li>
              <li>√âviter les modifications de code existant</li>
              <li>Favoriser l'injection de d√©pendances</li>
            </ul>
          </div>
          
          <div class="solid-item">
            <h4 class="text-purple">L - Liskov Substitution</h4>
            <p><strong>Substitution transparente</strong></p>
            <ul>
              <li>Les sous-classes remplacent les parentes</li>
              <li>Respect des contrats d'interface</li>
              <li>Pas d'exceptions inattendues</li>
              <li>Comportement pr√©visible</li>
            </ul>
          </div>
          
          <div class="solid-item">
            <h4 class="text-purple">I - Interface Segregation</h4>
            <p><strong>Interfaces sp√©cifiques et fines</strong></p>
            <ul>
              <li>√âviter les interfaces "ob√®ses"</li>
              <li>Segmentation par r√¥le/utilisateur</li>
              <li>Clients ne d√©pendent que de ce qu'ils utilisent</li>
              <li>R√©duction du couplage</li>
            </ul>
          </div>

          <div class="solid-item">
            <h4 class="text-purple">D - Dependency Inversion</h4>
            <p><strong>D√©pendre des abstractions</strong></p>
            <ul>
              <li>Modules haut niveau ind√©pendants des bas niveau</li>
              <li>Abstractions stables, impl√©mentations changeantes</li>
              <li>Inversion de contr√¥le (IoC)</li>
              <li>Facilite les tests et la modularit√©</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Exemples de code -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Exemples de structures probl√©matiques vs optimales</h2>
        
        <div class="code-comparison">
          <div class="code-example">
            <h4 class="text-purple">Structure probl√©matique - God Object</h4>
            <pre><code><span class="keyword">class</span> <span class="class-name">UserManager</span> {
  <span class="comment">// Violation SRP - Trop de responsabilit√©s</span>
  <span class="function">createUser</span>() { <span class="comment">/*...*/</span> }
  <span class="function">deleteUser</span>() { <span class="comment">/*...*/</span> }
  <span class="function">sendEmail</span>() { <span class="comment">/*...*/</span> }
  <span class="function">validatePassword</span>() { <span class="comment">/*...*/</span> }
  <span class="function">generateReport</span>() { <span class="comment">/*...*/</span> }
  <span class="function">updateProfile</span>() { <span class="comment">/*...*/</span> }
  <span class="function">processPayment</span>() { <span class="comment">/*...*/</span> }
  <span class="function">logActivity</span>() { <span class="comment">/*...*/</span> }
}

<span class="comment">// Fort couplage entre modules</span>
<span class="keyword">class</span> <span class="class-name">OrderService</span> {
  <span class="function">processOrder</span>() {
    <span class="variable">userManager</span> = <span class="keyword">new</span> <span class="class-name">UserManager</span>();
    <span class="variable">paymentProcessor</span> = <span class="keyword">new</span> <span class="class-name">PaymentProcessor</span>();
    <span class="comment">// Logique m√©tier entrem√™l√©e...</span>
  }
}</code></pre>
          </div>
          
          <div class="code-example">
            <h4 class="text-purple">Structure optimale - S√©paration des concerns</h4>
            <pre><code><span class="comment">// Classes focalis√©es - Respect SRP</span>
<span class="keyword">class</span> <span class="class-name">UserService</span> {
  <span class="function">constructor</span>(<span class="variable">userRepo</span>, <span class="variable">validator</span>) {}
  <span class="function">createUser</span>() { <span class="comment">/*...*/</span> }
  <span class="function">updateUser</span>() { <span class="comment">/*...*/</span> }
}

<span class="keyword">class</span> <span class="class-name">EmailService</span> {
  <span class="function">sendWelcomeEmail</span>() { <span class="comment">/*...*/</span> }
}

<span class="keyword">class</span> <span class="class-name">ReportGenerator</span> {
  <span class="function">generateUserReport</span>() { <span class="comment">/*...*/</span> }
}

<span class="comment">// Injection de d√©pendances - Respect DIP</span>
<span class="keyword">class</span> <span class="class-name">OrderService</span> {
  <span class="function">constructor</span>(<span class="variable">userService</span>, <span class="variable">paymentService</span>, <span class="variable">emailService</span>) {}
  
  <span class="function">processOrder</span>(<span class="variable">order</span>) {
    <span class="variable">user</span> = <span class="keyword">this</span>.<span class="variable">userService</span>.<span class="function">getUser</span>(<span class="variable">order</span>.<span class="variable">userId</span>);
    <span class="variable">payment</span> = <span class="keyword">this</span>.<span class="variable">paymentService</span>.<span class="function">process</span>(<span class="variable">order</span>);
    <span class="keyword">this</span>.<span class="variable">emailService</span>.<span class="function">sendConfirmation</span>(<span class="variable">user</span>, <span class="variable">order</span>);
  }
}</code></pre>
          </div>
        </div>
      </section>

      <!-- M√©triques structurelles -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">M√©triques de qualit√© structurelle</h2>
        
        <div class="metrics-grid">
          <div class="metric-item">
            <h4 class="text-purple">Complexit√© cyclomatique</h4>
            <p>Nombre de chemins ind√©pendants dans une m√©thode. Cible : &lt; 10 par m√©thode.</p>
          </div>
          
          <div class="metric-item">
            <h4 class="text-purple">Couplage aff√©rent</h4>
            <p>Nombre de classes qui d√©pendent de la classe courante. Cible : faible.</p>
          </div>
          
          <div class="metric-item">
            <h4 class="text-purple">Coh√©sion LCOM</h4>
            <p>Manque de coh√©sion dans les m√©thodes. Cible : &lt; 1.0.</p>
          </div>
          
          <div class="metric-item">
            <h4 class="text-purple">Profondeur d'h√©ritage</h4>
            <p>Nombre de niveaux dans la hi√©rarchie d'h√©ritage. Cible : &lt; 4.</p>
          </div>
        </div>

        <div class="metrics-grid">
          <div class="metric-item">
            <h4 class="text-purple">Taille des classes (LOC)</h4>
            <p>Nombre de lignes par classe. Cible : &lt; 200 lignes.</p>
          </div>
          
          <div class="metric-item">
            <h4 class="text-purple">Taille des m√©thodes</h4>
            <p>Nombre de lignes par m√©thode. Cible : &lt; 20 lignes.</p>
          </div>
          
          <div class="metric-item">
            <h4 class="text-purple">D√©pendances circulaires</h4>
            <p>Pr√©sence de cycles dans le graphe de d√©pendances. Cible : 0.</p>
          </div>
          
          <div class="metric-item">
            <h4 class="text-purple">Duplication de code</h4>
            <p>Pourcentage de code dupliqu√©. Cible : &lt; 3%.</p>
          </div>
        </div>
      </section>

      <!-- Outils d'analyse -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Outils d'analyse structurelle</h2>
        
        <h3 class="text-purple">Analyse statique avanc√©e</h3>
        <ul>
          <li><strong>SonarQube</strong> : M√©triques compl√®tes et d√©tection de dette technique</li>
          <li><strong>NDepend</strong> : Analyse approfondie des d√©pendances et m√©triques .NET</li>
          <li><strong>Checkstyle/PMD</strong> : R√®gles architecturales pour Java</li>
        </ul>
        
        <h3 class="text-purple">Visualisation d'architecture</h3>
        <ul>
          <li><strong>Structure101</strong> : Analyse et visualisation des d√©pendances</li>
          <li><strong>Lattix</strong> : Mod√©lisation et gestion de l'architecture</li>
          <li><strong>PlantUML</strong> : G√©n√©ration de diagrammes √† partir du code</li>
        </ul>
        
        <h3 class="text-purple">Analyse de d√©pendances</h3>
        <ul>
          <li><strong>JDepend</strong> : M√©triques de qualit√© pour packages Java</li>
          <li><strong>Depends</strong> : Analyse de d√©pendances multi-langages</li>
          <li><strong>CodeMaT</strong> : Cartographie des d√©pendances et m√©triques</li>
        </ul>
      </section>

      <!-- Patterns architecturaux courants -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Patterns architecturaux √©valu√©s</h2>
        
        <div class="architecture-grid">
          <div class="architecture-item">
            <h4 class="text-purple">üèóÔ∏è Architecture en couches</h4>
            <p><strong>Presentation ‚Üí Business ‚Üí Data</strong></p>
            <ul>
              <li>Facile √† comprendre</li>
              <li>Risque de couplage entre couches</li>
              <li>√âvolutivit√© limit√©e</li>
              <li>Bon pour applications simples</li>
            </ul>
          </div>
          
          <div class="architecture-item">
            <h4 class="text-purple">üîó Architecture hexagonale</h4>
            <p><strong>Domain au centre, adapters en p√©riph√©rie</strong></p>
            <ul>
              <li>Isolation du domaine m√©tier</li>
              <li>Testabilit√© excellente</li>
              <li>Complexit√© initiale plus √©lev√©e</li>
              <li>Id√©al pour DDD</li>
            </ul>
          </div>
          
          <div class="architecture-item">
            <h4 class="text-purple">‚ö° Microservices</h4>
            <p><strong>Services ind√©pendants et sp√©cialis√©s</strong></p>
            <ul>
              <li>√âvolutivit√© horizontale</li>
              <li>D√©ploiements ind√©pendants</li>
              <li>Complexit√© op√©rationnelle</li>
              <li>N√©cessite maturit√© DevOps</li>
            </ul>
          </div>
          
          <div class="architecture-item">
            <h4 class="text-purple">üéØ CQRS + Event Sourcing</h4>
            <p><strong>S√©paration lecture/√©criture + √©v√©nements</strong></p>
            <ul>
              <li>Performance lecture optimis√©e</li>
              <li>Audit trail naturel</li>
              <li>Complexit√© cognitive</li>
              <li>Sp√©cialis√© pour syst√®mes complexes</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Checklist d'audit -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Checklist d'audit de structure</h2>
        
        <div class="code-example">
          <pre><code><span class="comment">// Checklist d'√©valuation structurelle</span>
<span class="number">‚ñ°</span> Architecture document√©e et comprise par l'√©quipe
<span class="number">‚ñ°</span> S√©paration claire des concerns (pr√©sentation, m√©tier, donn√©es)
<span class="number">‚ñ°</span> Absence de d√©pendances circulaires
<span class="number">‚ñ°</span> Modules avec forte coh√©sion et faible couplage
<span class="number">‚ñ°</span> Respect des principes SOLID
<span class="number">‚ñ°</span> Taille des classes et m√©thodes raisonnable
<span class="number">‚ñ°</span> Utilisation appropri√©e des patterns de conception
<span class="number">‚ñ°</span> Gestion coh√©rente des exceptions
<span class="number">‚ñ°</span> Strat√©gie de logging structur√©e
<span class="number">‚ñ°</span> Configuration externalis√©e et organis√©e
<span class="number">‚ñ°</span> Tests unitaires couvrant les composants m√©tier
<span class="number">‚ñ°</span> Documentation des interfaces et contrats
<span class="number">‚ñ°</span> Gestion des d√©pendances claire (IoC/DI)
<span class="number">‚ñ°</span> Absence de code dupliqu√© structurel
<span class="number">‚ñ°</span> Organisation coh√©rente des packages/namespaces</code></pre>
        </div>
      </section>

      <!-- Exercice pratique -->
      <section class="lesson-section bg-light-purple border-purple">
        <h2 class="text-purple">Exercice pratique</h2>
        
        <div class="exercise">
          <h3 class="text-purple">Audit d'une base de code existante</h3>
          <p class="textExemple">
            Vous devez r√©aliser un audit structurel sur un module de gestion des commandes. 
            Le module contient 15 classes et 2 000 lignes de code. R√©alisez les √©tapes suivantes :
          </p>
          <ol>
            <li>Analysez la structure des packages et des d√©pendances</li>
            <li>Identifiez les violations des principes SOLID</li>
            <li>Calculez les m√©triques de complexit√© principales</li>
            <li>√âvaluez la qualit√© des abstractions et interfaces</li>
            <li>Proposez un plan de refactorisation prioris√©</li>
          </ol>
          
          <details class="solution">
            <summary class="btn-purple btn-hover">Voir un exemple de solution</summary>
            <div class="solution-content">
              <h4 class="text-purple">Rapport d'audit structurel - Module Commandes</h4>
              <p><strong>Module :</strong> Gestion des commandes "OrderManagement"</p>
              <p><strong>Taille :</strong> 15 classes, 2 150 LOC</p>
              
              <h4 class="text-purple">Probl√®mes structurels identifi√©s :</h4>
              <div class="structure-examples">
                <div class="structure-example critical">
                  <strong>CRITIQUE :</strong> Classe OrderProcessor (450 LOC) - God object violant SRP
                </div>
                <div class="structure-example high">
                  <strong>√âLEV√â :</strong> D√©pendances circulaires entre OrderService et PaymentService
                </div>
                <div class="structure-example medium">
                  <strong>MOYEN :</strong> Interface IOrderManager trop large (15 m√©thodes)
                </div>
                <div class="structure-example low">
                  <strong>FAIBLE :</strong> Organisation sous-optimale des packages
                </div>
              </div>
              
              <h4 class="text-purple">M√©triques calcul√©es :</h4>
              <ul>
                <li><strong>Complexit√© cyclomatique moyenne :</strong> 8.2 (cible : &lt; 10)</li>
                <li><strong>Couplage aff√©rent moyen :</strong> 4.1 (cible : &lt; 5)</li>
                <li><strong>Taille moyenne des classes :</strong> 143 LOC (cible : &lt; 200)</li>
                <li><strong>Duplication de code :</strong> 5.8% (cible : &lt; 3%)</li>
              </ul>

              <h4 class="text-purple">Plan de refactorisation :</h4>
              <ul>
                <li><strong>Phase 1 (Urgent) :</strong> D√©couper OrderProcessor en 4 classes sp√©cialis√©es</li>
                <li><strong>Phase 2 (Important) :</strong> Introduire une interface pour briser les d√©pendances circulaires</li>
                <li><strong>Phase 3 (Recommand√©) :</strong> Segmente IOrderManager en 3 interfaces sp√©cifiques</li>
                <li><strong>Phase 4 (Am√©lioration) :</strong> R√©organiser les packages par feature</li>
              </ul>

              <h4 class="text-purple">Estimation d'effort :</h4>
              <ul>
                <li><strong>Refactorisation critique :</strong> 3-5 jours</li>
                <li><strong>Am√©liorations structurelles :</strong> 2-3 jours</li>
                <li><strong>Tests de non-r√©gression :</strong> 2 jours</li>
                <li><strong>Total estim√© :</strong> 7-10 jours</li>
              </ul>
            </div>
          </details>
        </div>
      </section>

      <!-- Conclusion -->
      <section class="lesson-section bg-gradient-primary">
        <h2 class="text-white">Conclusion</h2>
        <p class="text-white">
          L'audit de structure de code repr√©sente l'examen fondamental des fondations d'un syst√®me logiciel. 
          Au-del√† de la correction des bugs imm√©diats, il s'attaque aux causes profondes des difficult√©s 
          de maintenance et des limitations d'√©volutivit√© qui handicapent les projets √† long terme.
        </p>
        
        <h3 class="text-white">Investissement strat√©gique</h3>
        <p class="text-white">
          Les efforts consacr√©s √† l'am√©lioration structurelle du code constituent un investissement strat√©gique 
          qui paie des dividendes tout au long du cycle de vie du projet. Une architecture solide r√©duit 
          les co√ªts de maintenance, acc√©l√®re le d√©veloppement de nouvelles fonctionnalit√©s et am√©liore 
          la satisfaction des √©quipes de d√©veloppement.
        </p>
        
        <h3 class="text-white">Culture de qualit√©</h3>
        <p class="text-white">
          Les audits structurels r√©guliers contribuent √† instaurer une culture de qualit√© technique 
          au sein des √©quipes. En sensibilisant aux principes de conception et en fournissant des retours 
          concrets, ils transforment la dette technique d'un probl√®me subi en une opportunit√© d'am√©lioration ma√Ætris√©e.
        </p>
        
        <h3 class="text-white">Approche pragmatique</h3>
        <p class="text-white">
          L'audit structurel efficace ne recherche pas la perfection th√©orique mais l'optimisation pragmatique. 
          Il identifie les probl√®mes ayant le plus d'impact sur la productivit√© et propose des plans de correction 
          r√©alistes, prioris√©s en fonction du rapport co√ªt/b√©n√©fice pour l'organisation.
        </p>
        
        <p class="text-white">
          En int√©grant l'audit de structure dans les pratiques courantes de d√©veloppement, les organisations 
          s'assurent non seulement de la qualit√© technique de leurs produits, mais aussi de leur capacit√© 
          √† √©voluer durablement dans un environnement technologique en perp√©tuel changement.
        </p>
      </section>
    </div>
  </div>
</template>

<script>
export default {
  name: 'CodeStructureAuditLesson',
  head() {
    return {
      title: 'Structure de Code - Audit Technique',
      meta: [
        {
          hid: 'description',
          name: 'description',
          content: 'Le√ßon compl√®te sur l\'audit de structure de code : principes SOLID, m√©triques, patterns architecturaux et bonnes pratiques.'
        }
      ]
    }
  }
}
</script>

<style scoped>
.lesson-container {
    padding: 2rem;
    background: #f8f9fa;
    min-height: 100vh;
}

.lesson-content {
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
    overflow-x: hidden;
}

/* Header avec le style gradient */
.lesson-header {
    background: linear-gradient(135deg, #8B5FBF 0%, #6A3093 100%);
    padding: 3rem 2rem;
    border-radius: 15px;
    margin-bottom: 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.lesson-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.lesson-header h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    position: relative;
}

.lesson-meta {
    font-size: 1.1rem;
    opacity: 0.9;
    position: relative;
}

/* Sections de le√ßon */
.lesson-section {
    padding: 2rem;
    margin-bottom: 2rem;
    border-radius: 15px;
    transition: all 0.3s ease;
    width: 100%;
    overflow-x: hidden;
    box-sizing: border-box;
}

.lesson-section:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 35px rgba(106, 48, 147, 0.15);
}

/* Classes CSS de l'autre page */
.bg-gradient-primary {
    background: linear-gradient(135deg, #8B5FBF 0%, #6A3093 100%);
}

.bg-light-purple {
    background-color: #f8f6ff;
    border-radius: 12px;
}

.border-purple {
    border: 2px solid #e0d6ff;
    border-radius: 15px;
    transition: all 0.3s ease;
}

.text-purple {
    color: #6A3093 !important;
}

.text-white {
    color: white !important;
}

/* Boutons */
.btn-purple {
    background: linear-gradient(135deg, #8B5FBF 0%, #6A3093 100%);
    border: none;
    color: white;
    font-weight: 600;
    padding: 12px 24px;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(106, 48, 147, 0.2);
    text-decoration: none;
    display: inline-block;
    cursor: pointer;
    margin: 0.5rem 0;
}

.btn-purple:hover {
    background: linear-gradient(135deg, #7a4fa8 0%, #5a287a 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(106, 48, 147, 0.3);
    color: white;
}

.btn-hover {
    position: relative;
    overflow: hidden;
}

.btn-hover::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    transition: all 0.5s ease;
    transform: translate(-50%, -50%);
}

.btn-hover:hover::after {
    width: 300px;
    height: 300px;
}

/* CORRECTION RESPONSIVE POUR LES BLOCS DE CODE */
.code-example, .code-block {
    margin: 1.5rem 0;
    width: 100%;
    box-sizing: border-box;
}

.code-comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin: 1.5rem 0;
    width: 100%;
}

pre {
    background: #1e1e1e !important;
    color: #d4d4d4 !important;
    padding: 1.5rem !important;
    border-radius: 8px;
    overflow-x: auto;
    border: 1px solid #333;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 0.9rem;
    line-height: 1.5;
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
    white-space: pre-wrap; /* Permet le retour √† la ligne */
    word-wrap: break-word; /* Casse les mots longs */
    word-break: break-word; /* Assure la c√©sure des mots */
}

/* CONTENEUR PRINCIPAL POUR TOUS LES BLOCS DE CODE */
pre code {
    display: block;
    white-space: pre-wrap; /* Retour √† la ligne automatique */
    overflow-x: auto;
    max-width: 100%;
    width: 100%;
    word-wrap: break-word;
    word-break: break-word;
}

/* Couleurs VS Code pour la syntaxe JavaScript */
.keyword { color: #c586c0 !important; } /* Mots-cl√©s (for, while, if, function, etc.) */
.variable { color: #9cdcfe !important; } /* Variables et noms de fonctions */
.string { color: #ce9178 !important; } /* Cha√Ænes de caract√®res */
.comment { color: #6a9955 !important; } /* Commentaires */
.function { color: #dcdcaa !important; } /* Noms de fonctions */
.operator { color: #d4d4d4 !important; } /* Op√©rateurs (+, -, =, =>, etc.) */
.constant { color: #4fc1ff !important; } /* Constantes */
.number { color: #b5cea8 !important; } /* Nombres */
.class-name { color: #4ec9b0 !important; } /* Noms de classes */

/* Exercices et solutions */
.exercise {
    margin: 2rem 0;
}

.solution {
    margin: 1rem 0;
}

.solution-content {
    margin-top: 1rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #8B5FBF;
}

.solution-content h4 {
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
}

details summary {
    cursor: pointer;
    outline: none;
}

/* Texte des exemples */
.textExemple {
    margin-bottom: 1rem;
    line-height: 1.6;
}

/* Styles suppl√©mentaires pour cette page */
.process-step {
    margin-bottom: 1.5rem;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.metric-item {
    padding: 1rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.metric-item h4 {
    margin-top: 0;
}

/* Niveaux de qualit√© structurelle */
.severity-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.severity-item {
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.severity-item:hover {
    transform: translateY(-5px);
}

.severity-item h4 {
    padding: 1rem;
    margin: 0;
    text-align: center;
    font-weight: bold;
}

.severity-content {
    padding: 1.5rem;
    background: white;
}

.severity-critical {
    border: 2px solid #dc3545;
}

.severity-critical h4 {
    background: #dc3545;
}

.severity-high {
    border: 2px solid #fd7e14;
}

.severity-high h4 {
    background: #fd7e14;
}

.severity-medium {
    border: 2px solid #ffc107;
}

.severity-medium h4 {
    background: #ffc107;
    color: #212529 !important;
}

.severity-low {
    border: 2px solid #28a745;
}

.severity-low h4 {
    background: #28a745;
}

/* Grille SOLID */
.solid-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.solid-item {
    padding: 1.5rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border-left: 4px solid #8B5FBF;
}

.solid-item h4 {
    margin-top: 0;
    margin-bottom: 0.5rem;
}

.solid-item p {
    font-weight: 600;
    margin-bottom: 1rem;
    color: #6A3093;
}

.solid-item ul {
    margin: 0;
    padding-left: 1.2rem;
}

.solid-item li {
    margin-bottom: 0.3rem;
}

/* Grille architecture */
.architecture-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.architecture-item {
    padding: 1.5rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border-left: 4px solid #8B5FBF;
}

.architecture-item h4 {
    margin-top: 0;
    margin-bottom: 0.5rem;
}

.architecture-item p {
    font-weight: 600;
    margin-bottom: 1rem;
    color: #6A3093;
}

.architecture-item ul {
    margin: 0;
    padding-left: 1.2rem;
}

.architecture-item li {
    margin-bottom: 0.3rem;
}

/* Exemples de structure dans la solution */
.structure-examples {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin: 1rem 0;
}

.structure-example {
    padding: 0.75rem;
    border-radius: 6px;
    border-left: 4px solid;
}

.structure-example.critical {
    background: #f8d7da;
    border-left-color: #dc3545;
}

.structure-example.high {
    background: #ffe5d0;
    border-left-color: #fd7e14;
}

.structure-example.medium {
    background: #fff3cd;
    border-left-color: #ffc107;
}

.structure-example.low {
    background: #d1e7dd;
    border-left-color: #28a745;
}

/* RESPONSIVE DESIGN AM√âLIOR√â */
@media (max-width: 768px) {
    .lesson-container {
        padding: 1rem;
    }
    
    .lesson-header {
        padding: 2rem 1rem;
    }
    
    .lesson-header h1 {
        font-size: 2rem;
    }
    
    .lesson-section {
        padding: 1.5rem;
    }
    
    .code-comparison {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    pre {
        padding: 1rem !important;
        font-size: 0.85rem;
    }
    
    .metrics-grid {
        grid-template-columns: 1fr;
    }
    
    .severity-grid {
        grid-template-columns: 1fr;
    }
    
    .solid-grid {
        grid-template-columns: 1fr;
    }
    
    .architecture-grid {
        grid-template-columns: 1fr;
    }
}

/* POUR LES TR√àS PETITS √âCRANS */
@media (max-width: 480px) {
    pre {
        padding: 0.75rem !important;
        font-size: 0.8rem;
    }
    
    .lesson-container {
        padding: 0.5rem;
    }
    
    .lesson-section {
        padding: 1rem;
    }
    
    .lesson-header {
        padding: 1.5rem 1rem;
    }
    
    .lesson-header h1 {
        font-size: 1.75rem;
    }
}

/* POUR LES TR√àS GRANDS √âCRANS */
@media (min-width: 1400px) {
    .lesson-content {
        max-width: 1300px;
    }
}

/* Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.lesson-section {
    animation: fadeInUp 0.6s ease forwards;
}

.lesson-section:nth-child(1) { animation-delay: 0.1s; }
.lesson-section:nth-child(2) { animation-delay: 0.2s; }
.lesson-section:nth-child(3) { animation-delay: 0.3s; }
.lesson-section:nth-child(4) { animation-delay: 0.4s; }
.lesson-section:nth-child(5) { animation-delay: 0.5s; }
</style>